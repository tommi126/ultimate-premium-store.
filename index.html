<!doctype html>
<html lang="it">
<head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>Digital Store ULTIMATE++ MAX</title>
<link rel="icon" href="/assets/favicon.ico">
<meta name="description" content="Store digitale premium: prodotti esclusivi, download protetto dopo pagamento.">
<style>
:root{--bg:#070707;--card:#101010;--gold:#d4af37;--muted:#9b9b9b;--white:#ffffff}
body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;color:var(--white);background:var(--bg)}
.top{padding:20px;display:flex;justify-content:space-between;align-items:center;background:linear-gradient(90deg,#000,#111)}
.logo{color:var(--gold);font-weight:800;font-size:20px}
.container{max-width:1100px;margin:24px auto;padding:0 16px}
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:18px}
.card{background:var(--card);border-radius:12px;padding:12px;box-shadow:0 6px 20px rgba(0,0,0,0.6);transition:transform .18s}
.card:hover{transform:translateY(-6px)}
.card img{width:100%;height:140px;object-fit:cover;border-radius:8px}
h1{color:var(--gold)}
.btn{background:transparent;border:2px solid var(--gold);color:var(--gold);padding:8px 10px;border-radius:8px;cursor:pointer}
.footer{text-align:center;color:var(--muted);padding:24px;margin-top:24px}
</style>
</head><body>
<div class="top"><div class="logo">Digital Store ULTIMATE++</div><div style="color:var(--muted)">Elegante • Premium • Scalabile</div></div>
<div class="container"><h1>Prodotti in evidenza</h1><div id="grid" class="grid"></div></div>
<div class="footer">© 2025 Digital Store ULTIMATE++ MAX</div>
<script>
fetch('/products/products.json').then(r=>r.json()).then(products=>{const grid=document.getElementById('grid');products.slice(0,200).forEach(p=>{const el=document.createElement('div');el.className='card';el.innerHTML=`<img src="/products/${p.images[0]}" alt="${p.name}"><h3 style="margin:10px 0">${p.name}</h3><div style="color:var(--gold);font-weight:800">${p.price} EUR</div><div style="margin-top:10px"><button class="btn" onclick="openProd(${p.id})">Dettagli</button> <button class="btn" onclick="buy(${p.id})">Compra</button></div>`;grid.appendChild(el)});});
function openProd(id){location.href='/products/product_'+id+'.html'}
function buy(id){fetch('/create-checkout-session',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({product_id:id})}).then(r=>r.json()).then(j=>{ if(j.url) location.href=j.url; else alert('Errore'); }).catch(e=>alert('Errore'));}
</script>
</body></html>